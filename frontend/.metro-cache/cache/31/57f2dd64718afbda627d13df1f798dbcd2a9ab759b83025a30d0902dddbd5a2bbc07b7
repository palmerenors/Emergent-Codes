{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"expo-notifications","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":52,"index":52}}],"key":"nrBDtkRVez7cBhLzyaRjl+xVfvE=","exportNames":["*"],"imports":1}},{"name":"react-native","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":53},"end":{"line":2,"column":40,"index":93}}],"key":"KyzuX10g6ixS9UfynhmjlvCIG3g=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":94},"end":{"line":3,"column":50,"index":144}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  exports.registerForPushNotificationsAsync = registerForPushNotificationsAsync;\n  exports.setupNotificationChannels = setupNotificationChannels;\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _expoNotifications = require(_dependencyMap[1], \"expo-notifications\");\n  var Notifications = _interopNamespace(_expoNotifications);\n  var _reactNative = require(_dependencyMap[2], \"react-native\");\n  var _servicesApi = require(_dependencyMap[3], \"../services/api\");\n  // Configure notification handler\n  Notifications.setNotificationHandler({\n    handleNotification: function () {\n      var _ref = (0, _asyncToGenerator.default)(function* () {\n        return {\n          shouldShowAlert: true,\n          shouldPlaySound: true,\n          shouldSetBadge: true\n        };\n      });\n      return function handleNotification() {\n        return _ref.apply(this, arguments);\n      };\n    }()\n  });\n  function registerForPushNotificationsAsync() {\n    return _registerForPushNotificationsAsync.apply(this, arguments);\n  }\n  function _registerForPushNotificationsAsync() {\n    _registerForPushNotificationsAsync = (0, _asyncToGenerator.default)(function* () {\n      try {\n        var _yield$Notifications$ = yield Notifications.getPermissionsAsync(),\n          existingStatus = _yield$Notifications$.status;\n        var finalStatus = existingStatus;\n        if (existingStatus !== 'granted') {\n          var _yield$Notifications$2 = yield Notifications.requestPermissionsAsync(),\n            status = _yield$Notifications$2.status;\n          finalStatus = status;\n        }\n        if (finalStatus !== 'granted') {\n          console.warn('Failed to get push token for push notification!');\n          return null;\n        }\n\n        // Get the Expo push token\n        var tokenData = yield Notifications.getExpoPushTokenAsync();\n        var token = tokenData.data;\n\n        // Register token with backend\n        yield _servicesApi.notificationAPI.registerToken({\n          token,\n          platform: _reactNative.Platform.OS\n        });\n        return token;\n      } catch (error) {\n        // Push notifications require development build, not available in Expo Go\n        if (error.message?.includes('projectId')) {\n          console.log('Push notifications require a development build. They are not available in Expo Go.');\n        } else {\n          console.error('Error registering for push notifications:', error);\n        }\n        return null;\n      }\n    });\n    return _registerForPushNotificationsAsync.apply(this, arguments);\n  }\n  function setupNotificationChannels() {\n    return _setupNotificationChannels.apply(this, arguments);\n  }\n  function _setupNotificationChannels() {\n    _setupNotificationChannels = (0, _asyncToGenerator.default)(function* () {\n      if (_reactNative.Platform.OS === 'android') {\n        yield Notifications.setNotificationChannelAsync('new_posts', {\n          name: 'New Posts',\n          importance: Notifications.AndroidImportance.HIGH,\n          vibrationPattern: [0, 250, 250, 250],\n          lightColor: '#FF0000'\n        });\n        yield Notifications.setNotificationChannelAsync('milestones', {\n          name: 'Milestone Reminders',\n          importance: Notifications.AndroidImportance.DEFAULT,\n          vibrationPattern: [0, 200]\n        });\n        yield Notifications.setNotificationChannelAsync('group_updates', {\n          name: 'Support Group Updates',\n          importance: Notifications.AndroidImportance.HIGH,\n          lightColor: '#0000FF'\n        });\n        yield Notifications.setNotificationChannelAsync('premium_notifications', {\n          name: 'Premium Member Updates',\n          importance: Notifications.AndroidImportance.HIGH,\n          vibrationPattern: [0, 300, 200, 300],\n          lightColor: '#FFD700'\n        });\n      }\n    });\n    return _setupNotificationChannels.apply(this, arguments);\n  }\n});","lineCount":123,"map":[[27,2,14,0,"exports"],[27,9,14,0],[27,10,14,0,"registerForPushNotificationsAsync"],[27,43,14,0],[27,46,14,0,"registerForPushNotificationsAsync"],[27,79,14,0],[28,2,51,0,"exports"],[28,9,51,0],[28,10,51,0,"setupNotificationChannels"],[28,35,51,0],[28,38,51,0,"setupNotificationChannels"],[28,63,51,0],[29,2,79,1],[29,6,79,1,"_babelRuntimeHelpersAsyncToGenerator"],[29,42,79,1],[29,45,79,1,"require"],[29,52,79,1],[29,53,79,1,"_dependencyMap"],[29,67,79,1],[30,2,79,1],[30,6,79,1,"_asyncToGenerator"],[30,23,79,1],[30,26,79,1,"_interopDefault"],[30,41,79,1],[30,42,79,1,"_babelRuntimeHelpersAsyncToGenerator"],[30,78,79,1],[31,2,1,0],[31,6,1,0,"_expoNotifications"],[31,24,1,0],[31,27,1,0,"require"],[31,34,1,0],[31,35,1,0,"_dependencyMap"],[31,49,1,0],[32,2,1,0],[32,6,1,0,"Notifications"],[32,19,1,0],[32,22,1,0,"_interopNamespace"],[32,39,1,0],[32,40,1,0,"_expoNotifications"],[32,58,1,0],[33,2,2,0],[33,6,2,0,"_reactNative"],[33,18,2,0],[33,21,2,0,"require"],[33,28,2,0],[33,29,2,0,"_dependencyMap"],[33,43,2,0],[34,2,3,0],[34,6,3,0,"_servicesApi"],[34,18,3,0],[34,21,3,0,"require"],[34,28,3,0],[34,29,3,0,"_dependencyMap"],[34,43,3,0],[35,2,5,0],[36,2,6,0,"Notifications"],[36,15,6,13],[36,16,6,14,"setNotificationHandler"],[36,38,6,36],[36,39,6,37],[37,4,7,2,"handleNotification"],[37,22,7,20],[38,6,7,20],[38,10,7,20,"_ref"],[38,14,7,20],[38,21,7,20,"_asyncToGenerator"],[38,38,7,20],[38,39,7,20,"default"],[38,46,7,20],[38,48,7,22],[39,8,7,22],[39,15,7,35],[40,10,8,4,"shouldShowAlert"],[40,25,8,19],[40,27,8,21],[40,31,8,25],[41,10,9,4,"shouldPlaySound"],[41,25,9,19],[41,27,9,21],[41,31,9,25],[42,10,10,4,"shouldSetBadge"],[42,24,10,18],[42,26,10,20],[43,8,11,2],[43,9,11,3],[44,6,11,3],[44,7,11,4],[45,6,11,4],[45,22,7,2,"handleNotification"],[45,40,7,20,"handleNotification"],[45,41,7,20],[46,8,7,20],[46,15,7,20,"_ref"],[46,19,7,20],[46,20,7,20,"apply"],[46,25,7,20],[46,32,7,20,"arguments"],[46,41,7,20],[47,6,7,20],[48,4,7,20],[49,2,12,0],[49,3,12,1],[49,4,12,2],[50,2,12,3],[50,11,14,22,"registerForPushNotificationsAsync"],[50,44,14,55,"registerForPushNotificationsAsync"],[50,45,14,55],[51,4,14,55],[51,11,14,55,"_registerForPushNotificationsAsync"],[51,45,14,55],[51,46,14,55,"apply"],[51,51,14,55],[51,58,14,55,"arguments"],[51,67,14,55],[52,2,14,55],[53,2,14,55],[53,11,14,55,"_registerForPushNotificationsAsync"],[53,46,14,55],[54,4,14,55,"_registerForPushNotificationsAsync"],[54,38,14,55],[54,45,14,55,"_asyncToGenerator"],[54,62,14,55],[54,63,14,55,"default"],[54,70,14,55],[54,72,14,7],[54,85,14,58],[55,6,15,2],[55,10,15,6],[56,8,16,4],[56,12,16,4,"_yield$Notifications$"],[56,33,16,4],[56,42,16,45,"Notifications"],[56,55,16,58],[56,56,16,59,"getPermissionsAsync"],[56,75,16,78],[56,76,16,79],[56,77,16,80],[57,10,16,20,"existingStatus"],[57,24,16,34],[57,27,16,34,"_yield$Notifications$"],[57,48,16,34],[57,49,16,12,"status"],[57,55,16,18],[58,8,17,4],[58,12,17,8,"finalStatus"],[58,23,17,19],[58,26,17,22,"existingStatus"],[58,40,17,36],[59,8,19,4],[59,12,19,8,"existingStatus"],[59,26,19,22],[59,31,19,27],[59,40,19,36],[59,42,19,38],[60,10,20,6],[60,14,20,6,"_yield$Notifications$2"],[60,36,20,6],[60,45,20,31,"Notifications"],[60,58,20,44],[60,59,20,45,"requestPermissionsAsync"],[60,82,20,68],[60,83,20,69],[60,84,20,70],[61,12,20,14,"status"],[61,18,20,20],[61,21,20,20,"_yield$Notifications$2"],[61,43,20,20],[61,44,20,14,"status"],[61,50,20,20],[62,10,21,6,"finalStatus"],[62,21,21,17],[62,24,21,20,"status"],[62,30,21,26],[63,8,22,4],[64,8,24,4],[64,12,24,8,"finalStatus"],[64,23,24,19],[64,28,24,24],[64,37,24,33],[64,39,24,35],[65,10,25,6,"console"],[65,17,25,13],[65,18,25,14,"warn"],[65,22,25,18],[65,23,25,19],[65,72,25,68],[65,73,25,69],[66,10,26,6],[66,17,26,13],[66,21,26,17],[67,8,27,4],[69,8,29,4],[70,8,30,4],[70,12,30,10,"tokenData"],[70,21,30,19],[70,30,30,28,"Notifications"],[70,43,30,41],[70,44,30,42,"getExpoPushTokenAsync"],[70,65,30,63],[70,66,30,64],[70,67,30,65],[71,8,31,4],[71,12,31,10,"token"],[71,17,31,15],[71,20,31,18,"tokenData"],[71,29,31,27],[71,30,31,28,"data"],[71,34,31,32],[73,8,33,4],[74,8,34,4],[74,14,34,10,"notificationAPI"],[74,26,34,25],[74,27,34,25,"notificationAPI"],[74,42,34,25],[74,43,34,26,"registerToken"],[74,56,34,39],[74,57,34,40],[75,10,35,6,"token"],[75,15,35,11],[76,10,36,6,"platform"],[76,18,36,14],[76,20,36,16,"Platform"],[76,32,36,24],[76,33,36,24,"Platform"],[76,41,36,24],[76,42,36,25,"OS"],[77,8,37,4],[77,9,37,5],[77,10,37,6],[78,8,39,4],[78,15,39,11,"token"],[78,20,39,16],[79,6,40,2],[79,7,40,3],[79,8,40,4],[79,15,40,11,"error"],[79,20,40,21],[79,22,40,23],[80,8,41,4],[81,8,42,4],[81,12,42,8,"error"],[81,17,42,13],[81,18,42,14,"message"],[81,25,42,21],[81,27,42,23,"includes"],[81,35,42,31],[81,36,42,32],[81,47,42,43],[81,48,42,44],[81,50,42,46],[82,10,43,6,"console"],[82,17,43,13],[82,18,43,14,"log"],[82,21,43,17],[82,22,43,18],[82,106,43,102],[82,107,43,103],[83,8,44,4],[83,9,44,5],[83,15,44,11],[84,10,45,6,"console"],[84,17,45,13],[84,18,45,14,"error"],[84,23,45,19],[84,24,45,20],[84,67,45,63],[84,69,45,65,"error"],[84,74,45,70],[84,75,45,71],[85,8,46,4],[86,8,47,4],[86,15,47,11],[86,19,47,15],[87,6,48,2],[88,4,49,0],[88,5,49,1],[89,4,49,1],[89,11,49,1,"_registerForPushNotificationsAsync"],[89,45,49,1],[89,46,49,1,"apply"],[89,51,49,1],[89,58,49,1,"arguments"],[89,67,49,1],[90,2,49,1],[91,2,49,1],[91,11,51,22,"setupNotificationChannels"],[91,36,51,47,"setupNotificationChannels"],[91,37,51,47],[92,4,51,47],[92,11,51,47,"_setupNotificationChannels"],[92,37,51,47],[92,38,51,47,"apply"],[92,43,51,47],[92,50,51,47,"arguments"],[92,59,51,47],[93,2,51,47],[94,2,51,47],[94,11,51,47,"_setupNotificationChannels"],[94,38,51,47],[95,4,51,47,"_setupNotificationChannels"],[95,30,51,47],[95,37,51,47,"_asyncToGenerator"],[95,54,51,47],[95,55,51,47,"default"],[95,62,51,47],[95,64,51,7],[95,77,51,50],[96,6,52,2],[96,10,52,6,"Platform"],[96,22,52,14],[96,23,52,14,"Platform"],[96,31,52,14],[96,32,52,15,"OS"],[96,34,52,17],[96,39,52,22],[96,48,52,31],[96,50,52,33],[97,8,53,4],[97,14,53,10,"Notifications"],[97,27,53,23],[97,28,53,24,"setNotificationChannelAsync"],[97,55,53,51],[97,56,53,52],[97,67,53,63],[97,69,53,65],[98,10,54,6,"name"],[98,14,54,10],[98,16,54,12],[98,27,54,23],[99,10,55,6,"importance"],[99,20,55,16],[99,22,55,18,"Notifications"],[99,35,55,31],[99,36,55,32,"AndroidImportance"],[99,53,55,49],[99,54,55,50,"HIGH"],[99,58,55,54],[100,10,56,6,"vibrationPattern"],[100,26,56,22],[100,28,56,24],[100,29,56,25],[100,30,56,26],[100,32,56,28],[100,35,56,31],[100,37,56,33],[100,40,56,36],[100,42,56,38],[100,45,56,41],[100,46,56,42],[101,10,57,6,"lightColor"],[101,20,57,16],[101,22,57,18],[102,8,58,4],[102,9,58,5],[102,10,58,6],[103,8,60,4],[103,14,60,10,"Notifications"],[103,27,60,23],[103,28,60,24,"setNotificationChannelAsync"],[103,55,60,51],[103,56,60,52],[103,68,60,64],[103,70,60,66],[104,10,61,6,"name"],[104,14,61,10],[104,16,61,12],[104,37,61,33],[105,10,62,6,"importance"],[105,20,62,16],[105,22,62,18,"Notifications"],[105,35,62,31],[105,36,62,32,"AndroidImportance"],[105,53,62,49],[105,54,62,50,"DEFAULT"],[105,61,62,57],[106,10,63,6,"vibrationPattern"],[106,26,63,22],[106,28,63,24],[106,29,63,25],[106,30,63,26],[106,32,63,28],[106,35,63,31],[107,8,64,4],[107,9,64,5],[107,10,64,6],[108,8,66,4],[108,14,66,10,"Notifications"],[108,27,66,23],[108,28,66,24,"setNotificationChannelAsync"],[108,55,66,51],[108,56,66,52],[108,71,66,67],[108,73,66,69],[109,10,67,6,"name"],[109,14,67,10],[109,16,67,12],[109,39,67,35],[110,10,68,6,"importance"],[110,20,68,16],[110,22,68,18,"Notifications"],[110,35,68,31],[110,36,68,32,"AndroidImportance"],[110,53,68,49],[110,54,68,50,"HIGH"],[110,58,68,54],[111,10,69,6,"lightColor"],[111,20,69,16],[111,22,69,18],[112,8,70,4],[112,9,70,5],[112,10,70,6],[113,8,72,4],[113,14,72,10,"Notifications"],[113,27,72,23],[113,28,72,24,"setNotificationChannelAsync"],[113,55,72,51],[113,56,72,52],[113,79,72,75],[113,81,72,77],[114,10,73,6,"name"],[114,14,73,10],[114,16,73,12],[114,40,73,36],[115,10,74,6,"importance"],[115,20,74,16],[115,22,74,18,"Notifications"],[115,35,74,31],[115,36,74,32,"AndroidImportance"],[115,53,74,49],[115,54,74,50,"HIGH"],[115,58,74,54],[116,10,75,6,"vibrationPattern"],[116,26,75,22],[116,28,75,24],[116,29,75,25],[116,30,75,26],[116,32,75,28],[116,35,75,31],[116,37,75,33],[116,40,75,36],[116,42,75,38],[116,45,75,41],[116,46,75,42],[117,10,76,6,"lightColor"],[117,20,76,16],[117,22,76,18],[118,8,77,4],[118,9,77,5],[118,10,77,6],[119,6,78,2],[120,4,79,0],[120,5,79,1],[121,4,79,1],[121,11,79,1,"_setupNotificationChannels"],[121,37,79,1],[121,38,79,1,"apply"],[121,43,79,1],[121,50,79,1,"arguments"],[121,59,79,1],[122,2,79,1],[123,0,79,1],[123,3]],"functionMap":{"names":["<global>","Notifications.setNotificationHandler$argument_0.handleNotification","registerForPushNotificationsAsync","setupNotificationChannels"],"mappings":"AAA;sBCM;IDI;OEG;CFmC;OGE;CH4B"},"hasCjsExports":false},"type":"js/module"}]}