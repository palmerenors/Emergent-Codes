{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"expo-notifications","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":52,"index":52}}],"key":"nrBDtkRVez7cBhLzyaRjl+xVfvE=","exportNames":["*"],"imports":1}},{"name":"react-native","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":53},"end":{"line":2,"column":40,"index":93}}],"key":"KyzuX10g6ixS9UfynhmjlvCIG3g=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":94},"end":{"line":3,"column":50,"index":144}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  exports.registerForPushNotificationsAsync = registerForPushNotificationsAsync;\n  exports.setupNotificationChannels = setupNotificationChannels;\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _expoNotifications = require(_dependencyMap[1], \"expo-notifications\");\n  var Notifications = _interopNamespace(_expoNotifications);\n  var _reactNative = require(_dependencyMap[2], \"react-native\");\n  var _servicesApi = require(_dependencyMap[3], \"../services/api\");\n  // Configure notification handler\n  Notifications.setNotificationHandler({\n    handleNotification: function () {\n      var _ref = (0, _asyncToGenerator.default)(function* () {\n        return {\n          shouldShowAlert: true,\n          shouldPlaySound: true,\n          shouldSetBadge: true\n        };\n      });\n      return function handleNotification() {\n        return _ref.apply(this, arguments);\n      };\n    }()\n  });\n  function registerForPushNotificationsAsync() {\n    return _registerForPushNotificationsAsync.apply(this, arguments);\n  }\n  function _registerForPushNotificationsAsync() {\n    _registerForPushNotificationsAsync = (0, _asyncToGenerator.default)(function* () {\n      try {\n        var _yield$Notifications$ = yield Notifications.getPermissionsAsync(),\n          existingStatus = _yield$Notifications$.status;\n        var finalStatus = existingStatus;\n        if (existingStatus !== 'granted') {\n          var _yield$Notifications$2 = yield Notifications.requestPermissionsAsync(),\n            status = _yield$Notifications$2.status;\n          finalStatus = status;\n        }\n        if (finalStatus !== 'granted') {\n          console.warn('Failed to get push token for push notification!');\n          return null;\n        }\n\n        // Get the Expo push token\n        var tokenData = yield Notifications.getExpoPushTokenAsync();\n        var token = tokenData.data;\n\n        // Register token with backend\n        yield _servicesApi.notificationAPI.registerToken({\n          token,\n          platform: _reactNative.Platform.OS\n        });\n        return token;\n      } catch (error) {\n        console.error('Error registering for push notifications:', error);\n        return null;\n      }\n    });\n    return _registerForPushNotificationsAsync.apply(this, arguments);\n  }\n  function setupNotificationChannels() {\n    return _setupNotificationChannels.apply(this, arguments);\n  }\n  function _setupNotificationChannels() {\n    _setupNotificationChannels = (0, _asyncToGenerator.default)(function* () {\n      if (_reactNative.Platform.OS === 'android') {\n        yield Notifications.setNotificationChannelAsync('new_posts', {\n          name: 'New Posts',\n          importance: Notifications.AndroidImportance.HIGH,\n          vibrationPattern: [0, 250, 250, 250],\n          lightColor: '#FF0000'\n        });\n        yield Notifications.setNotificationChannelAsync('milestones', {\n          name: 'Milestone Reminders',\n          importance: Notifications.AndroidImportance.DEFAULT,\n          vibrationPattern: [0, 200]\n        });\n        yield Notifications.setNotificationChannelAsync('group_updates', {\n          name: 'Support Group Updates',\n          importance: Notifications.AndroidImportance.HIGH,\n          lightColor: '#0000FF'\n        });\n        yield Notifications.setNotificationChannelAsync('premium_notifications', {\n          name: 'Premium Member Updates',\n          importance: Notifications.AndroidImportance.HIGH,\n          vibrationPattern: [0, 300, 200, 300],\n          lightColor: '#FFD700'\n        });\n      }\n    });\n    return _setupNotificationChannels.apply(this, arguments);\n  }\n});","lineCount":118,"map":[[27,2,14,0,"exports"],[27,9,14,0],[27,10,14,0,"registerForPushNotificationsAsync"],[27,43,14,0],[27,46,14,0,"registerForPushNotificationsAsync"],[27,79,14,0],[28,2,46,0,"exports"],[28,9,46,0],[28,10,46,0,"setupNotificationChannels"],[28,35,46,0],[28,38,46,0,"setupNotificationChannels"],[28,63,46,0],[29,2,74,1],[29,6,74,1,"_babelRuntimeHelpersAsyncToGenerator"],[29,42,74,1],[29,45,74,1,"require"],[29,52,74,1],[29,53,74,1,"_dependencyMap"],[29,67,74,1],[30,2,74,1],[30,6,74,1,"_asyncToGenerator"],[30,23,74,1],[30,26,74,1,"_interopDefault"],[30,41,74,1],[30,42,74,1,"_babelRuntimeHelpersAsyncToGenerator"],[30,78,74,1],[31,2,1,0],[31,6,1,0,"_expoNotifications"],[31,24,1,0],[31,27,1,0,"require"],[31,34,1,0],[31,35,1,0,"_dependencyMap"],[31,49,1,0],[32,2,1,0],[32,6,1,0,"Notifications"],[32,19,1,0],[32,22,1,0,"_interopNamespace"],[32,39,1,0],[32,40,1,0,"_expoNotifications"],[32,58,1,0],[33,2,2,0],[33,6,2,0,"_reactNative"],[33,18,2,0],[33,21,2,0,"require"],[33,28,2,0],[33,29,2,0,"_dependencyMap"],[33,43,2,0],[34,2,3,0],[34,6,3,0,"_servicesApi"],[34,18,3,0],[34,21,3,0,"require"],[34,28,3,0],[34,29,3,0,"_dependencyMap"],[34,43,3,0],[35,2,5,0],[36,2,6,0,"Notifications"],[36,15,6,13],[36,16,6,14,"setNotificationHandler"],[36,38,6,36],[36,39,6,37],[37,4,7,2,"handleNotification"],[37,22,7,20],[38,6,7,20],[38,10,7,20,"_ref"],[38,14,7,20],[38,21,7,20,"_asyncToGenerator"],[38,38,7,20],[38,39,7,20,"default"],[38,46,7,20],[38,48,7,22],[39,8,7,22],[39,15,7,35],[40,10,8,4,"shouldShowAlert"],[40,25,8,19],[40,27,8,21],[40,31,8,25],[41,10,9,4,"shouldPlaySound"],[41,25,9,19],[41,27,9,21],[41,31,9,25],[42,10,10,4,"shouldSetBadge"],[42,24,10,18],[42,26,10,20],[43,8,11,2],[43,9,11,3],[44,6,11,3],[44,7,11,4],[45,6,11,4],[45,22,7,2,"handleNotification"],[45,40,7,20,"handleNotification"],[45,41,7,20],[46,8,7,20],[46,15,7,20,"_ref"],[46,19,7,20],[46,20,7,20,"apply"],[46,25,7,20],[46,32,7,20,"arguments"],[46,41,7,20],[47,6,7,20],[48,4,7,20],[49,2,12,0],[49,3,12,1],[49,4,12,2],[50,2,12,3],[50,11,14,22,"registerForPushNotificationsAsync"],[50,44,14,55,"registerForPushNotificationsAsync"],[50,45,14,55],[51,4,14,55],[51,11,14,55,"_registerForPushNotificationsAsync"],[51,45,14,55],[51,46,14,55,"apply"],[51,51,14,55],[51,58,14,55,"arguments"],[51,67,14,55],[52,2,14,55],[53,2,14,55],[53,11,14,55,"_registerForPushNotificationsAsync"],[53,46,14,55],[54,4,14,55,"_registerForPushNotificationsAsync"],[54,38,14,55],[54,45,14,55,"_asyncToGenerator"],[54,62,14,55],[54,63,14,55,"default"],[54,70,14,55],[54,72,14,7],[54,85,14,58],[55,6,15,2],[55,10,15,6],[56,8,16,4],[56,12,16,4,"_yield$Notifications$"],[56,33,16,4],[56,42,16,45,"Notifications"],[56,55,16,58],[56,56,16,59,"getPermissionsAsync"],[56,75,16,78],[56,76,16,79],[56,77,16,80],[57,10,16,20,"existingStatus"],[57,24,16,34],[57,27,16,34,"_yield$Notifications$"],[57,48,16,34],[57,49,16,12,"status"],[57,55,16,18],[58,8,17,4],[58,12,17,8,"finalStatus"],[58,23,17,19],[58,26,17,22,"existingStatus"],[58,40,17,36],[59,8,19,4],[59,12,19,8,"existingStatus"],[59,26,19,22],[59,31,19,27],[59,40,19,36],[59,42,19,38],[60,10,20,6],[60,14,20,6,"_yield$Notifications$2"],[60,36,20,6],[60,45,20,31,"Notifications"],[60,58,20,44],[60,59,20,45,"requestPermissionsAsync"],[60,82,20,68],[60,83,20,69],[60,84,20,70],[61,12,20,14,"status"],[61,18,20,20],[61,21,20,20,"_yield$Notifications$2"],[61,43,20,20],[61,44,20,14,"status"],[61,50,20,20],[62,10,21,6,"finalStatus"],[62,21,21,17],[62,24,21,20,"status"],[62,30,21,26],[63,8,22,4],[64,8,24,4],[64,12,24,8,"finalStatus"],[64,23,24,19],[64,28,24,24],[64,37,24,33],[64,39,24,35],[65,10,25,6,"console"],[65,17,25,13],[65,18,25,14,"warn"],[65,22,25,18],[65,23,25,19],[65,72,25,68],[65,73,25,69],[66,10,26,6],[66,17,26,13],[66,21,26,17],[67,8,27,4],[69,8,29,4],[70,8,30,4],[70,12,30,10,"tokenData"],[70,21,30,19],[70,30,30,28,"Notifications"],[70,43,30,41],[70,44,30,42,"getExpoPushTokenAsync"],[70,65,30,63],[70,66,30,64],[70,67,30,65],[71,8,31,4],[71,12,31,10,"token"],[71,17,31,15],[71,20,31,18,"tokenData"],[71,29,31,27],[71,30,31,28,"data"],[71,34,31,32],[73,8,33,4],[74,8,34,4],[74,14,34,10,"notificationAPI"],[74,26,34,25],[74,27,34,25,"notificationAPI"],[74,42,34,25],[74,43,34,26,"registerToken"],[74,56,34,39],[74,57,34,40],[75,10,35,6,"token"],[75,15,35,11],[76,10,36,6,"platform"],[76,18,36,14],[76,20,36,16,"Platform"],[76,32,36,24],[76,33,36,24,"Platform"],[76,41,36,24],[76,42,36,25,"OS"],[77,8,37,4],[77,9,37,5],[77,10,37,6],[78,8,39,4],[78,15,39,11,"token"],[78,20,39,16],[79,6,40,2],[79,7,40,3],[79,8,40,4],[79,15,40,11,"error"],[79,20,40,16],[79,22,40,18],[80,8,41,4,"console"],[80,15,41,11],[80,16,41,12,"error"],[80,21,41,17],[80,22,41,18],[80,65,41,61],[80,67,41,63,"error"],[80,72,41,68],[80,73,41,69],[81,8,42,4],[81,15,42,11],[81,19,42,15],[82,6,43,2],[83,4,44,0],[83,5,44,1],[84,4,44,1],[84,11,44,1,"_registerForPushNotificationsAsync"],[84,45,44,1],[84,46,44,1,"apply"],[84,51,44,1],[84,58,44,1,"arguments"],[84,67,44,1],[85,2,44,1],[86,2,44,1],[86,11,46,22,"setupNotificationChannels"],[86,36,46,47,"setupNotificationChannels"],[86,37,46,47],[87,4,46,47],[87,11,46,47,"_setupNotificationChannels"],[87,37,46,47],[87,38,46,47,"apply"],[87,43,46,47],[87,50,46,47,"arguments"],[87,59,46,47],[88,2,46,47],[89,2,46,47],[89,11,46,47,"_setupNotificationChannels"],[89,38,46,47],[90,4,46,47,"_setupNotificationChannels"],[90,30,46,47],[90,37,46,47,"_asyncToGenerator"],[90,54,46,47],[90,55,46,47,"default"],[90,62,46,47],[90,64,46,7],[90,77,46,50],[91,6,47,2],[91,10,47,6,"Platform"],[91,22,47,14],[91,23,47,14,"Platform"],[91,31,47,14],[91,32,47,15,"OS"],[91,34,47,17],[91,39,47,22],[91,48,47,31],[91,50,47,33],[92,8,48,4],[92,14,48,10,"Notifications"],[92,27,48,23],[92,28,48,24,"setNotificationChannelAsync"],[92,55,48,51],[92,56,48,52],[92,67,48,63],[92,69,48,65],[93,10,49,6,"name"],[93,14,49,10],[93,16,49,12],[93,27,49,23],[94,10,50,6,"importance"],[94,20,50,16],[94,22,50,18,"Notifications"],[94,35,50,31],[94,36,50,32,"AndroidImportance"],[94,53,50,49],[94,54,50,50,"HIGH"],[94,58,50,54],[95,10,51,6,"vibrationPattern"],[95,26,51,22],[95,28,51,24],[95,29,51,25],[95,30,51,26],[95,32,51,28],[95,35,51,31],[95,37,51,33],[95,40,51,36],[95,42,51,38],[95,45,51,41],[95,46,51,42],[96,10,52,6,"lightColor"],[96,20,52,16],[96,22,52,18],[97,8,53,4],[97,9,53,5],[97,10,53,6],[98,8,55,4],[98,14,55,10,"Notifications"],[98,27,55,23],[98,28,55,24,"setNotificationChannelAsync"],[98,55,55,51],[98,56,55,52],[98,68,55,64],[98,70,55,66],[99,10,56,6,"name"],[99,14,56,10],[99,16,56,12],[99,37,56,33],[100,10,57,6,"importance"],[100,20,57,16],[100,22,57,18,"Notifications"],[100,35,57,31],[100,36,57,32,"AndroidImportance"],[100,53,57,49],[100,54,57,50,"DEFAULT"],[100,61,57,57],[101,10,58,6,"vibrationPattern"],[101,26,58,22],[101,28,58,24],[101,29,58,25],[101,30,58,26],[101,32,58,28],[101,35,58,31],[102,8,59,4],[102,9,59,5],[102,10,59,6],[103,8,61,4],[103,14,61,10,"Notifications"],[103,27,61,23],[103,28,61,24,"setNotificationChannelAsync"],[103,55,61,51],[103,56,61,52],[103,71,61,67],[103,73,61,69],[104,10,62,6,"name"],[104,14,62,10],[104,16,62,12],[104,39,62,35],[105,10,63,6,"importance"],[105,20,63,16],[105,22,63,18,"Notifications"],[105,35,63,31],[105,36,63,32,"AndroidImportance"],[105,53,63,49],[105,54,63,50,"HIGH"],[105,58,63,54],[106,10,64,6,"lightColor"],[106,20,64,16],[106,22,64,18],[107,8,65,4],[107,9,65,5],[107,10,65,6],[108,8,67,4],[108,14,67,10,"Notifications"],[108,27,67,23],[108,28,67,24,"setNotificationChannelAsync"],[108,55,67,51],[108,56,67,52],[108,79,67,75],[108,81,67,77],[109,10,68,6,"name"],[109,14,68,10],[109,16,68,12],[109,40,68,36],[110,10,69,6,"importance"],[110,20,69,16],[110,22,69,18,"Notifications"],[110,35,69,31],[110,36,69,32,"AndroidImportance"],[110,53,69,49],[110,54,69,50,"HIGH"],[110,58,69,54],[111,10,70,6,"vibrationPattern"],[111,26,70,22],[111,28,70,24],[111,29,70,25],[111,30,70,26],[111,32,70,28],[111,35,70,31],[111,37,70,33],[111,40,70,36],[111,42,70,38],[111,45,70,41],[111,46,70,42],[112,10,71,6,"lightColor"],[112,20,71,16],[112,22,71,18],[113,8,72,4],[113,9,72,5],[113,10,72,6],[114,6,73,2],[115,4,74,0],[115,5,74,1],[116,4,74,1],[116,11,74,1,"_setupNotificationChannels"],[116,37,74,1],[116,38,74,1,"apply"],[116,43,74,1],[116,50,74,1,"arguments"],[116,59,74,1],[117,2,74,1],[118,0,74,1],[118,3]],"functionMap":{"names":["<global>","Notifications.setNotificationHandler$argument_0.handleNotification","registerForPushNotificationsAsync","setupNotificationChannels"],"mappings":"AAA;sBCM;IDI;OEG;CF8B;OGE;CH4B"},"hasCjsExports":false},"type":"js/module"}]}