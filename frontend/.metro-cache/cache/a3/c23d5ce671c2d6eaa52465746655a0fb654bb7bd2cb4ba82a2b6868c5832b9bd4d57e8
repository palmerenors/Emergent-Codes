{"dependencies":[{"name":"expo-notifications","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":52,"index":52}}],"key":"nrBDtkRVez7cBhLzyaRjl+xVfvE=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":94},"end":{"line":3,"column":50,"index":144}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.registerForPushNotificationsAsync = registerForPushNotificationsAsync;\n  exports.setupNotificationChannels = setupNotificationChannels;\n  var _expoNotifications = require(_dependencyMap[0], \"expo-notifications\");\n  var Notifications = _interopNamespace(_expoNotifications);\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[1], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _servicesApi = require(_dependencyMap[2], \"../services/api\");\n  // Configure notification handler\n  Notifications.setNotificationHandler({\n    handleNotification: async () => ({\n      shouldShowAlert: true,\n      shouldPlaySound: true,\n      shouldSetBadge: true\n    })\n  });\n  async function registerForPushNotificationsAsync() {\n    try {\n      const {\n        status: existingStatus\n      } = await Notifications.getPermissionsAsync();\n      let finalStatus = existingStatus;\n      if (existingStatus !== 'granted') {\n        const {\n          status\n        } = await Notifications.requestPermissionsAsync();\n        finalStatus = status;\n      }\n      if (finalStatus !== 'granted') {\n        console.warn('Failed to get push token for push notification!');\n        return null;\n      }\n\n      // Get the Expo push token\n      const tokenData = await Notifications.getExpoPushTokenAsync();\n      const token = tokenData.data;\n\n      // Register token with backend\n      await _servicesApi.notificationAPI.registerToken({\n        token,\n        platform: Platform.default.OS\n      });\n      return token;\n    } catch (error) {\n      console.error('Error registering for push notifications:', error);\n      return null;\n    }\n  }\n  async function setupNotificationChannels() {\n    if (Platform.default.OS === 'android') {\n      await Notifications.setNotificationChannelAsync('new_posts', {\n        name: 'New Posts',\n        importance: Notifications.AndroidImportance.HIGH,\n        vibrationPattern: [0, 250, 250, 250],\n        lightColor: '#FF0000'\n      });\n      await Notifications.setNotificationChannelAsync('milestones', {\n        name: 'Milestone Reminders',\n        importance: Notifications.AndroidImportance.DEFAULT,\n        vibrationPattern: [0, 200]\n      });\n      await Notifications.setNotificationChannelAsync('group_updates', {\n        name: 'Support Group Updates',\n        importance: Notifications.AndroidImportance.HIGH,\n        lightColor: '#0000FF'\n      });\n      await Notifications.setNotificationChannelAsync('premium_notifications', {\n        name: 'Premium Member Updates',\n        importance: Notifications.AndroidImportance.HIGH,\n        vibrationPattern: [0, 300, 200, 300],\n        lightColor: '#FFD700'\n      });\n    }\n  }\n});","lineCount":100,"map":[[27,2,14,0,"exports"],[27,9,14,0],[27,10,14,0,"registerForPushNotificationsAsync"],[27,43,14,0],[27,46,14,0,"registerForPushNotificationsAsync"],[27,79,14,0],[28,2,46,0,"exports"],[28,9,46,0],[28,10,46,0,"setupNotificationChannels"],[28,35,46,0],[28,38,46,0,"setupNotificationChannels"],[28,63,46,0],[29,2,1,0],[29,6,1,0,"_expoNotifications"],[29,24,1,0],[29,27,1,0,"require"],[29,34,1,0],[29,35,1,0,"_dependencyMap"],[29,49,1,0],[30,2,1,0],[30,6,1,0,"Notifications"],[30,19,1,0],[30,22,1,0,"_interopNamespace"],[30,39,1,0],[30,40,1,0,"_expoNotifications"],[30,58,1,0],[31,2,1,52],[31,6,1,52,"_reactNativeWebDistExportsPlatform"],[31,40,1,52],[31,43,1,52,"require"],[31,50,1,52],[31,51,1,52,"_dependencyMap"],[31,65,1,52],[32,2,1,52],[32,6,1,52,"Platform"],[32,14,1,52],[32,17,1,52,"_interopDefault"],[32,32,1,52],[32,33,1,52,"_reactNativeWebDistExportsPlatform"],[32,67,1,52],[33,2,3,0],[33,6,3,0,"_servicesApi"],[33,18,3,0],[33,21,3,0,"require"],[33,28,3,0],[33,29,3,0,"_dependencyMap"],[33,43,3,0],[34,2,5,0],[35,2,6,0,"Notifications"],[35,15,6,13],[35,16,6,14,"setNotificationHandler"],[35,38,6,36],[35,39,6,37],[36,4,7,2,"handleNotification"],[36,22,7,20],[36,24,7,22],[36,30,7,22,"handleNotification"],[36,31,7,22],[36,37,7,35],[37,6,8,4,"shouldShowAlert"],[37,21,8,19],[37,23,8,21],[37,27,8,25],[38,6,9,4,"shouldPlaySound"],[38,21,9,19],[38,23,9,21],[38,27,9,25],[39,6,10,4,"shouldSetBadge"],[39,20,10,18],[39,22,10,20],[40,4,11,2],[40,5,11,3],[41,2,12,0],[41,3,12,1],[41,4,12,2],[42,2,14,7],[42,17,14,22,"registerForPushNotificationsAsync"],[42,50,14,55,"registerForPushNotificationsAsync"],[42,51,14,55],[42,53,14,58],[43,4,15,2],[43,8,15,6],[44,6,16,4],[44,12,16,10],[45,8,16,12,"status"],[45,14,16,18],[45,16,16,20,"existingStatus"],[46,6,16,35],[46,7,16,36],[46,10,16,39],[46,16,16,45,"Notifications"],[46,29,16,58],[46,30,16,59,"getPermissionsAsync"],[46,49,16,78],[46,50,16,79],[46,51,16,80],[47,6,17,4],[47,10,17,8,"finalStatus"],[47,21,17,19],[47,24,17,22,"existingStatus"],[47,38,17,36],[48,6,19,4],[48,10,19,8,"existingStatus"],[48,24,19,22],[48,29,19,27],[48,38,19,36],[48,40,19,38],[49,8,20,6],[49,14,20,12],[50,10,20,14,"status"],[51,8,20,21],[51,9,20,22],[51,12,20,25],[51,18,20,31,"Notifications"],[51,31,20,44],[51,32,20,45,"requestPermissionsAsync"],[51,55,20,68],[51,56,20,69],[51,57,20,70],[52,8,21,6,"finalStatus"],[52,19,21,17],[52,22,21,20,"status"],[52,28,21,26],[53,6,22,4],[54,6,24,4],[54,10,24,8,"finalStatus"],[54,21,24,19],[54,26,24,24],[54,35,24,33],[54,37,24,35],[55,8,25,6,"console"],[55,15,25,13],[55,16,25,14,"warn"],[55,20,25,18],[55,21,25,19],[55,70,25,68],[55,71,25,69],[56,8,26,6],[56,15,26,13],[56,19,26,17],[57,6,27,4],[59,6,29,4],[60,6,30,4],[60,12,30,10,"tokenData"],[60,21,30,19],[60,24,30,22],[60,30,30,28,"Notifications"],[60,43,30,41],[60,44,30,42,"getExpoPushTokenAsync"],[60,65,30,63],[60,66,30,64],[60,67,30,65],[61,6,31,4],[61,12,31,10,"token"],[61,17,31,15],[61,20,31,18,"tokenData"],[61,29,31,27],[61,30,31,28,"data"],[61,34,31,32],[63,6,33,4],[64,6,34,4],[64,12,34,10,"notificationAPI"],[64,24,34,25],[64,25,34,25,"notificationAPI"],[64,40,34,25],[64,41,34,26,"registerToken"],[64,54,34,39],[64,55,34,40],[65,8,35,6,"token"],[65,13,35,11],[66,8,36,6,"platform"],[66,16,36,14],[66,18,36,16,"Platform"],[66,26,36,24],[66,27,36,24,"default"],[66,34,36,24],[66,35,36,25,"OS"],[67,6,37,4],[67,7,37,5],[67,8,37,6],[68,6,39,4],[68,13,39,11,"token"],[68,18,39,16],[69,4,40,2],[69,5,40,3],[69,6,40,4],[69,13,40,11,"error"],[69,18,40,16],[69,20,40,18],[70,6,41,4,"console"],[70,13,41,11],[70,14,41,12,"error"],[70,19,41,17],[70,20,41,18],[70,63,41,61],[70,65,41,63,"error"],[70,70,41,68],[70,71,41,69],[71,6,42,4],[71,13,42,11],[71,17,42,15],[72,4,43,2],[73,2,44,0],[74,2,46,7],[74,17,46,22,"setupNotificationChannels"],[74,42,46,47,"setupNotificationChannels"],[74,43,46,47],[74,45,46,50],[75,4,47,2],[75,8,47,6,"Platform"],[75,16,47,14],[75,17,47,14,"default"],[75,24,47,14],[75,25,47,15,"OS"],[75,27,47,17],[75,32,47,22],[75,41,47,31],[75,43,47,33],[76,6,48,4],[76,12,48,10,"Notifications"],[76,25,48,23],[76,26,48,24,"setNotificationChannelAsync"],[76,53,48,51],[76,54,48,52],[76,65,48,63],[76,67,48,65],[77,8,49,6,"name"],[77,12,49,10],[77,14,49,12],[77,25,49,23],[78,8,50,6,"importance"],[78,18,50,16],[78,20,50,18,"Notifications"],[78,33,50,31],[78,34,50,32,"AndroidImportance"],[78,51,50,49],[78,52,50,50,"HIGH"],[78,56,50,54],[79,8,51,6,"vibrationPattern"],[79,24,51,22],[79,26,51,24],[79,27,51,25],[79,28,51,26],[79,30,51,28],[79,33,51,31],[79,35,51,33],[79,38,51,36],[79,40,51,38],[79,43,51,41],[79,44,51,42],[80,8,52,6,"lightColor"],[80,18,52,16],[80,20,52,18],[81,6,53,4],[81,7,53,5],[81,8,53,6],[82,6,55,4],[82,12,55,10,"Notifications"],[82,25,55,23],[82,26,55,24,"setNotificationChannelAsync"],[82,53,55,51],[82,54,55,52],[82,66,55,64],[82,68,55,66],[83,8,56,6,"name"],[83,12,56,10],[83,14,56,12],[83,35,56,33],[84,8,57,6,"importance"],[84,18,57,16],[84,20,57,18,"Notifications"],[84,33,57,31],[84,34,57,32,"AndroidImportance"],[84,51,57,49],[84,52,57,50,"DEFAULT"],[84,59,57,57],[85,8,58,6,"vibrationPattern"],[85,24,58,22],[85,26,58,24],[85,27,58,25],[85,28,58,26],[85,30,58,28],[85,33,58,31],[86,6,59,4],[86,7,59,5],[86,8,59,6],[87,6,61,4],[87,12,61,10,"Notifications"],[87,25,61,23],[87,26,61,24,"setNotificationChannelAsync"],[87,53,61,51],[87,54,61,52],[87,69,61,67],[87,71,61,69],[88,8,62,6,"name"],[88,12,62,10],[88,14,62,12],[88,37,62,35],[89,8,63,6,"importance"],[89,18,63,16],[89,20,63,18,"Notifications"],[89,33,63,31],[89,34,63,32,"AndroidImportance"],[89,51,63,49],[89,52,63,50,"HIGH"],[89,56,63,54],[90,8,64,6,"lightColor"],[90,18,64,16],[90,20,64,18],[91,6,65,4],[91,7,65,5],[91,8,65,6],[92,6,67,4],[92,12,67,10,"Notifications"],[92,25,67,23],[92,26,67,24,"setNotificationChannelAsync"],[92,53,67,51],[92,54,67,52],[92,77,67,75],[92,79,67,77],[93,8,68,6,"name"],[93,12,68,10],[93,14,68,12],[93,38,68,36],[94,8,69,6,"importance"],[94,18,69,16],[94,20,69,18,"Notifications"],[94,33,69,31],[94,34,69,32,"AndroidImportance"],[94,51,69,49],[94,52,69,50,"HIGH"],[94,56,69,54],[95,8,70,6,"vibrationPattern"],[95,24,70,22],[95,26,70,24],[95,27,70,25],[95,28,70,26],[95,30,70,28],[95,33,70,31],[95,35,70,33],[95,38,70,36],[95,40,70,38],[95,43,70,41],[95,44,70,42],[96,8,71,6,"lightColor"],[96,18,71,16],[96,20,71,18],[97,6,72,4],[97,7,72,5],[97,8,72,6],[98,4,73,2],[99,2,74,0],[100,0,74,1],[100,3]],"functionMap":{"names":["<global>","Notifications.setNotificationHandler$argument_0.handleNotification","registerForPushNotificationsAsync","setupNotificationChannels"],"mappings":"AAA;sBCM;IDI;OEG;CF8B;OGE;CH4B"},"hasCjsExports":false},"type":"js/module"}]}